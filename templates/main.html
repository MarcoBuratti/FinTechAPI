<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" media="all" href="{{ url_for('static', filename='css/main.css')}}">
    <title>Backend documentation</title>
</head>

<body>
    <div id="container">
    <h1 id="">Backend Documentation</h1>
    <blockquote>
        <h2>Deliverable D1</h2>
    </blockquote>
    <h3 id="group-info">General group information</h3>

    <div id="my-table">
        <div class="my-row">
            <div class="my-col col-title"><h4>Member N.</h4></div>
            <div class="my-col col-title" id="col-role"><h4>Role</h4></div>
            <div class="my-col col-title"><h4>First Name</h4></div>
            <div class="my-col col-title"><h4>Last Name</h4></div>
            <div class="my-col" id="col-email"><h4>Email Address</h4></div>
        </div>
        <div class="my-row">
                <div class="my-col">1</div>
                <div class="my-col"id="col-role">Developer</div>
                <div class="my-col">Marco</div>
                <div class="my-col">Buratti</div>
                <div class="my-col" id="col-email">marco.buratti@mip.polimi.it</div>
        </div>
        <div class="my-row">
                <div class="my-col">2</div>
                <div class="my-col"id="col-role">Developer</div>
                <div class="my-col">Laurent</div>
                <div class="my-col">Chirco</div>
                <div class="my-col" id="col-email">chirco.laurent@mip.polimi.it</div>
        </div>
        <div class="my-row">
                <div class="my-col">3</div>
                <div class="my-col"id="col-role">Developer</div>
                <div class="my-col">Luca</div>
                <div class="my-col">Corvino</div>
                <div class="my-col" id="col-email">luca.corvino@mip.polimi.it</div>
        </div>
        <div class="my-row">
            <div class="my-col">4</div>
            <div class="my-col"id="col-role">Developer</div>
            <div class="my-col">Timur</div>
            <div class="my-col">Scalatelli</div>
            <div class="my-col" id="col-email">timur.scalatelli@mip.polimi.it</div>
    </div>
    </div>

    <h3 id="links">Links to other deliverables</h3>

    <blockquote>
        <p>Deliverable: The web application is reachable at this: <a
                href="https://sleepy-reaches-50423.herokuapp.com" target="_blank">address</a> </p>

        <p>Deliverable: The address of the online source code repository is available at this: <a
                href="https://github.com/MarcoBuratti/FinTechAPI" target="_blank">address</a> </p>
    </blockquote>

    <h3 id="h3-architecture">Web Architecture</h3>
    <ul>
        <img class="image" id="architecture" src="../static/img/architecture.png">
        <p>
            The Web server is based on an application generated by Flask FrameWork.
            <br>
            <br>
            The user executes html requests to the server that responds with the contents of the
            Templates folder. Folders contain only static files that are sent to the user's browser and are rendered locally. The
            dynamic parts of the html pages are delegated to Django files.
            <br>
            <br>
            The RestAPIs (API Platform) are managed by the app.py file that is appointed to keep the server online
            and manage data traffic. Through Python methods the server is able to forward requests to the database
            and respond to users.
        </p>
    </ul>

    <h2>API</h2>

    <h3 id="REST">REST compliance</h3>
    <ul>
        We have decided to follow these guidelines: the RESTs are driven by input parameters which are carried to the
        server by the requests.
    </ul>

    <h3 id="OpenAPI">OpenAPI Resource models</h3>
    <ul>
        <p>
            The following models have been used to represent the OpenAPI resources:
            <br>
            <li><a href="https://financialmodelingprep.com/developer/docs/">Financial modelling</a> was used to obtain all real-time company data, starting with quarterly balance sheet data in order to create price forecast regression models down to individual daily company data.</li>
            <br>
            <li><a href="https://newsapi.org">News API</a> was used to get the most important news related to the companies that a user put in his WatchList. From this API, the top three news items are selected according to importance and reliability of the provider.</li>
            <br>
            <li><a href="https://newsapi.org">Yahoo Finance</a> was used to take all the data of individual stocks and to create the charts of the technical section</li>
            <br>
        </p>
    </ul>

    <h3 id="datamodel">Data model</h3>
    <ul>
        <img class="image" id="data-model" src="../static/img/ERD con entitÃ  colorate (notazione UML).png">
        <p>The database consists of two tables and are dedicated to manage users' data and stock in their porfolio.
            <br>
            The tables (User and UserPF) are related to users management: in particular, the User table contains
            information (names, mails, passwords), with the id_user and email as primary key about registered users, whereas the UserPF is
            made up of rows, each one representing a different stock in the user's portfolio (each row is identified by the couple (id_user, Ticker)
            and specifies the which stock they are following.
        </p>
    </ul>

    <h3 id="toolsused">Tools used</h3>
    <ul>
        We have used VisualStudio Code as an IDE to develop our site and we have generated a server by using
        Flask.
        The server is entirely written in Python with the help of SQLite to generate the database and to fill
        it up.
        As an interface to the DB we used SQLite3. The following Python libraries have been used:
        appdirs==1.4.4, certifi==2020.12.5, click==7.1.2, distlib==0.3.1, filelock==3.0.12, Flask==1.1.2, gunicorn==20.0.4, itsdangerous==1.1.0, Jinja2==2.11.3, MarkupSafe==1.1.1, pipenv==2020.11.15, six==1.15.0, virtualenv==20.4.3, virtualenv-clone==0.5.4, Werkzeug==1.0.1, WTForms==2.3.3, requests==2.24.0, yahoofinancials==1.6, pandas-datareader==0.9.0, pandas==1.1.4, numpy==1.19.3, plotly==4.14.3, plotly-express==0.4.1, country-list==0.2.1, bs4==0.0.1, statsmodels==0.12.2
    </ul>

</div>
</body>

</html>